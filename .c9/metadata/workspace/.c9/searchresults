{"changed":true,"filter":false,"title":"Search Results","tooltip":"/.c9/searchresults","value":"Searching for \u0001Emit\u0001 in\u0001/server\u0001 (Found 30 matches in 9 files)\n\n/server/controllers/idea.js:\n\t13:         Sockets.emitToAll('session', req.body.idea.session, 'idea', [req.body.idea]);\n\t43:         Sockets.emitToAll('session', req.body.idea.session, 'idea', [idea]);\n\t63:           Sockets.emitToAll('session', uidea.session.toString(), 'idea', [uidea]);\n\t87:           Sockets.emitToAll('session', uidea.session.toString(), 'idea', [uidea]);\n\t111:      Sockets.emitToAll('session', req.body.ideas[0].session.toString(), 'idea', req.body.ideas);\n\n/server/controllers/invite.js:\n\t88:                   Sockets.emitToUsers(org.users, 'updateRoster', 'org');\n\t103:                   Sockets.emitToUsers(team.users, 'updateRoster', 'team');\n\t118:                   Sockets.emitToUsers(session.users, 'updateRoster', 'session');\n\n/server/controllers/message.js:\n\t25:       Sockets.emitToAll(req.body.type, req.body[req.body.type], 'message', message);\n\n/server/controllers/organisation.js:\n\t41:                   Sockets.emitToUsers(org.users, 'org', org);\n\n/server/controllers/resource.js:\n\t32:         console.log('i want to emit');\n\t33:         Sockets.emitToAll(req.body.type, req.body.ids[req.body.type], 'resource', resource);\n\n/server/controllers/session.js:\n\t66:                 Sockets.emitToUsers(session.users, 'bsession', session);\n\n/server/controllers/team.js:\n\t42:                 Sockets.emitToUsers(team.users, 'team', team);\n\n/server/controllers/user.js:\n\t38:     //emit roster event\n\n/server/sockets/sockets.js:\n\t8: var emitToAll = function emitToAll(idKey, id, message, data) {\n\t11:       socket.emit(message, data);\n\t16: var emitToUsers = function emitToUsers(users, message, data) {\n\t21:         socket.emit(message, data);\n\t46:     emitToAll('org', ids.org, 'rosters', {type:'org',users:rosters.orgUsers});\n\t49:     emitToAll('team', ids.team, 'rosters', {type:'team',users:rosters.teamUsers});\n\t52:     emitToAll('session', ids.session, 'rosters', {type:'session',users:rosters.sessionUsers});\n\t80:   emitToAll: function(idKey, id, message, data) {\n\t81:     console.log('emitting ' + message);\n\t82:     emitToAll(idKey, id, message, data);\n\t84:   emitToUsers: function(users, message, data) {\n\t85:     console.log('emitting to users');\n\t86:     emitToUsers(users, message, data);\n\nFound 30 matches in 9 files \n\n","undoManager":{"mark":-1,"position":78,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":[" "]},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":[" "]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001calcTimes\u0001 in\u0001/app/scripts\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/controllers/session.js:",""]},{"start":{"row":3,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["\t12:             //$scope.calcTimes();","","/app/scripts/controllers/sessionsetup.js:","\t41:             Toolkit.calcTimes($scope);","","/app/scripts/directives/unitgrid.js:","\t15:           scope.calcTimes();","\t26:             scope.calcTimes();","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["/app/scripts/services/toolkit.js:","\t6:       calcTimes: function(scope){","",""]},{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["Found 5 matches in 4 files ",""]},{"start":{"row":16,"column":0},"end":{"row":17,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":42},"end":{"row":0,"column":71},"action":"insert","lines":[" (Found 5 matches in 4 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":17,"column":0},"action":"remove","lines":["Searching for \u0001calcTimes\u0001 in\u0001/app/scripts\u0001 (Found 5 matches in 4 files)","","/app/scripts/controllers/session.js:","\t12:             //$scope.calcTimes();","","/app/scripts/controllers/sessionsetup.js:","\t41:             Toolkit.calcTimes($scope);","","/app/scripts/directives/unitgrid.js:","\t15:           scope.calcTimes();","\t26:             scope.calcTimes();","","/app/scripts/services/toolkit.js:","\t6:       calcTimes: function(scope){","","Found 5 matches in 4 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001fetchMessages\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/directives/messages.js:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t33:           Message.fetchMessages(obj, scope.type);","",""]},{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/scripts/services/message.js:","\t50:       fetchMessages: function(ids,type) {","",""]},{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["Found 2 matches in 2 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":38},"end":{"row":0,"column":67},"action":"insert","lines":[" (Found 2 matches in 2 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":10,"column":0},"action":"remove","lines":["Searching for \u0001fetchMessages\u0001 in\u0001/app\u0001 (Found 2 matches in 2 files)","","/app/scripts/directives/messages.js:","\t33:           Message.fetchMessages(obj, scope.type);","","/app/scripts/services/message.js:","\t50:       fetchMessages: function(ids,type) {","","Found 2 matches in 2 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001User.setIds\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/controllers/dashboard.js:",""]},{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t5:     User.setIds({","",""]},{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/scripts/controllers/org.js:","\t9:       User.setIds({","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["/app/scripts/controllers/session.js:","\t12:             User.setIds({","",""]},{"start":{"row":11,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["/app/scripts/controllers/team.js:","\t10:       User.setIds({","",""]},{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["Found 4 matches in 4 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":36},"end":{"row":0,"column":65},"action":"insert","lines":[" (Found 4 matches in 4 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":9},"action":"remove","lines":["Searching"]},{"start":{"row":0,"column":1},"end":{"row":16,"column":0},"action":"remove","lines":["for \u0001User.setIds\u0001 in\u0001/app\u0001 (Found 4 matches in 4 files)","","/app/scripts/controllers/dashboard.js:","\t5:     User.setIds({","","/app/scripts/controllers/org.js:","\t9:       User.setIds({","","/app/scripts/controllers/session.js:","\t12:             User.setIds({","","/app/scripts/controllers/team.js:","\t10:       User.setIds({","","Found 4 matches in 4 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":[" "]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001image\u0001 in\u0001/server\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/server/angular.js:",""]},{"start":{"row":3,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["\t6:   app.use('/images', gzippo.staticGzip(__dirname + '../../dist/images'));","","/server/routes.js:","\t17:             image:req.user.image,","",""]},{"start":{"row":8,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["/server/config/passport.js:","\t51:               newUser.image = result.public_id;","\t103:               //user.image = profile._json.profile_image_url_https;","\t115:               cloudinary.uploader.upload(profile._json.profile_image_url_https, function(result){","\t126:                 newUser.image = result.public_id;","\t145:         //user.image = profile._json.profile_image_url_https;","",""]},{"start":{"row":15,"column":0},"end":{"row":18,"column":0},"action":"insert","lines":["/server/controllers/idea.js:","\t12:     newIdea.userimage = req.user.image;","",""]},{"start":{"row":18,"column":0},"end":{"row":24,"column":0},"action":"insert","lines":["/server/controllers/invite.js:","\t19:       newInvite.image = req.body.invite.image;","\t22:       newInvite.senderImage = user.image;","\t67:               image:user.image,","","/server/controllers/message.js:",""]},{"start":{"row":24,"column":0},"end":{"row":31,"column":0},"action":"insert","lines":["\t12:     newMessage.userimage = req.user.image;","","/server/controllers/organisation.js:","\t38:                 org.image = req.body.image;","\t50:               newOrg.image = req.body.image;","\t55:                 image: user.image,","",""]},{"start":{"row":31,"column":0},"end":{"row":35,"column":0},"action":"insert","lines":["/server/controllers/resource.js:","\t12:       newResource.image = req.body.image;","\t22:       newResource.userimage = req.user.image;","",""]},{"start":{"row":35,"column":0},"end":{"row":40,"column":0},"action":"insert","lines":["/server/controllers/session.js:","\t49:               session.image = req.body.image;","\t77:             newSession.image = req.body.image;","\t95:               image: user.image,","",""]},{"start":{"row":40,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["/server/controllers/team.js:","\t39:               team.image = req.body.image;","\t52:             newTeam.image = req.body.image;","\t57:               image: user.image,","",""]},{"start":{"row":45,"column":0},"end":{"row":56,"column":0},"action":"insert","lines":["/server/controllers/user.js:","\t52:           image: req.body.image || ''","\t58:           'users.$.image': req.body.image","\t64:           'users.$.image': req.body.image","\t70:           'users.$.image': req.body.image","\t77:         userimage: req.body.image,","\t86:         senderImage: req.body.image","\t94:         recipientImage: req.body.image,","\t103:         userimage: req.body.image,","\t113:         userimage: req.body.image","",""]},{"start":{"row":56,"column":0},"end":{"row":59,"column":0},"action":"insert","lines":["/server/models/idea.js:","\t18:     userimage: String,","",""]},{"start":{"row":59,"column":0},"end":{"row":67,"column":0},"action":"insert","lines":["/server/models/invite.js:","\t8:     image: String,","\t17:     senderImage: String,","\t25:         image: String","\t30:         image: String","\t35:         image: String","\t40:         image: String,","",""]},{"start":{"row":67,"column":0},"end":{"row":74,"column":0},"action":"insert","lines":["/server/models/message.js:","\t10:     userimage: String,","","/server/models/organisation.js:","\t7:     image: String,","\t16:         image: String,","",""]},{"start":{"row":74,"column":0},"end":{"row":78,"column":0},"action":"insert","lines":["/server/models/resource.js:","\t7:     image: String,","\t21:     userimage: String,","",""]},{"start":{"row":78,"column":0},"end":{"row":82,"column":0},"action":"insert","lines":["/server/models/session.js:","\t12:     image: String,","\t27:         image: String,","",""]},{"start":{"row":82,"column":0},"end":{"row":89,"column":0},"action":"insert","lines":["/server/models/team.js:","\t7:     image: String,","\t16:         image: String,","","/server/models/user.js:","\t8:     image: String,","",""]},{"start":{"row":89,"column":0},"end":{"row":90,"column":0},"action":"insert","lines":["Found 78 matches in 19 files ",""]},{"start":{"row":90,"column":0},"end":{"row":91,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":33},"end":{"row":0,"column":64},"action":"insert","lines":[" (Found 78 matches in 19 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":9},"action":"remove","lines":["Searching"]},{"start":{"row":0,"column":1},"end":{"row":91,"column":0},"action":"remove","lines":["for \u0001image\u0001 in\u0001/server\u0001 (Found 78 matches in 19 files)","","/server/angular.js:","\t6:   app.use('/images', gzippo.staticGzip(__dirname + '../../dist/images'));","","/server/routes.js:","\t17:             image:req.user.image,","","/server/config/passport.js:","\t51:               newUser.image = result.public_id;","\t103:               //user.image = profile._json.profile_image_url_https;","\t115:               cloudinary.uploader.upload(profile._json.profile_image_url_https, function(result){","\t126:                 newUser.image = result.public_id;","\t145:         //user.image = profile._json.profile_image_url_https;","","/server/controllers/idea.js:","\t12:     newIdea.userimage = req.user.image;","","/server/controllers/invite.js:","\t19:       newInvite.image = req.body.invite.image;","\t22:       newInvite.senderImage = user.image;","\t67:               image:user.image,","","/server/controllers/message.js:","\t12:     newMessage.userimage = req.user.image;","","/server/controllers/organisation.js:","\t38:                 org.image = req.body.image;","\t50:               newOrg.image = req.body.image;","\t55:                 image: user.image,","","/server/controllers/resource.js:","\t12:       newResource.image = req.body.image;","\t22:       newResource.userimage = req.user.image;","","/server/controllers/session.js:","\t49:               session.image = req.body.image;","\t77:             newSession.image = req.body.image;","\t95:               image: user.image,","","/server/controllers/team.js:","\t39:               team.image = req.body.image;","\t52:             newTeam.image = req.body.image;","\t57:               image: user.image,","","/server/controllers/user.js:","\t52:           image: req.body.image || ''","\t58:           'users.$.image': req.body.image","\t64:           'users.$.image': req.body.image","\t70:           'users.$.image': req.body.image","\t77:         userimage: req.body.image,","\t86:         senderImage: req.body.image","\t94:         recipientImage: req.body.image,","\t103:         userimage: req.body.image,","\t113:         userimage: req.body.image","","/server/models/idea.js:","\t18:     userimage: String,","","/server/models/invite.js:","\t8:     image: String,","\t17:     senderImage: String,","\t25:         image: String","\t30:         image: String","\t35:         image: String","\t40:         image: String,","","/server/models/message.js:","\t10:     userimage: String,","","/server/models/organisation.js:","\t7:     image: String,","\t16:         image: String,","","/server/models/resource.js:","\t7:     image: String,","\t21:     userimage: String,","","/server/models/session.js:","\t12:     image: String,","\t27:         image: String,","","/server/models/team.js:","\t7:     image: String,","\t16:         image: String,","","/server/models/user.js:","\t8:     image: String,","","Found 78 matches in 19 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":[" "]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001.morph-shape\u0001 in\u0001/app/styles\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/styles/_file-uploader.scss:",""]},{"start":{"row":3,"column":0},"end":{"row":7,"column":0},"action":"insert","lines":["\t53:         .morph-shape {","\t62:         .morph-shape svg path {","\t66:         .morph-shape svg {","",""]},{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/styles/_idea-modal.scss:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["\t42:     .morph-shape {","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["Found 4 matches in 2 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":44},"end":{"row":0,"column":73},"action":"insert","lines":[" (Found 4 matches in 2 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":12,"column":0},"action":"remove","lines":["Searching for \u0001.morph-shape\u0001 in\u0001/app/styles\u0001 (Found 4 matches in 2 files)","","/app/styles/_file-uploader.scss:","\t53:         .morph-shape {","\t62:         .morph-shape svg path {","\t66:         .morph-shape svg {","","/app/styles/_idea-modal.scss:","\t42:     .morph-shape {","","Found 4 matches in 2 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001role\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/controllers/orgsetup.js:",""]},{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t13:               $scope.role = user.role;","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/scripts/controllers/sessionsetup.js:","\t44:                 $scope.role = user.role;","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["/app/scripts/controllers/teamsetup.js:","\t13:               $scope.role = user.role;","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["/app/scripts/services/session.js:",""]},{"start":{"row":12,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["\t107:               session.role = user.role;","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["/app/views/orgsetup.html:","\t6:     <input type=\"text\" ng-model=\"org.name\" ng-blur=\"submit()\" ng-disabled=\"role>1\" />","\t10:     <div image-uploader ng-model=\"org.image\" ng-change=\"submit()\" disabled=\"{{role>1}}\" ng-hide=\"role>1\"></div>","\t11:     <img class=\"thumbnail inline ng-isolate-scope\" ng-src=\"https://res.cloudinary.com/parks-brainstorm/image/upload/c_fill,h_150,w_150/{{org.image}}.jpg\" ng-show=\"role>1\"></img>","\t15:     <input minicolors ng-model=\"org.color\" ng-blur=\"submit()\" ng-disabled=\"role>1\"  />","",""]},{"start":{"row":20,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["/app/views/session.html:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":47,"column":0},"action":"insert","lines":["\t4:     {{Session.getUnit().type}} {{Session.getSession().role}}","\t6:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/destinationdirector.html'\"></div>","\t7:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/destinationmanager.html'\"></div>","\t8:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/destinationuser.html'\"></div>","\t12:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/gatherdirector.html'\"></div>","\t13:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/gathermanager.html'\"></div>","\t14:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/gatheruser.html'\"></div>","\t18:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/generatedirector.html'\"></div>","\t19:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/generatemanager.html'\"></div>","\t20:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/generateuser.html'\"></div>","\t23:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/filterdirector.html'\"></div>","\t24:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/filtermanager.html'\"></div>","\t25:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/filteruser.html'\"></div>","\t29:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/actiondirector.html'\"></div>","\t30:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/actionmanager.html'\"></div>","\t31:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/actionuser.html'\"></div>","\t35:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/breakdirector.html'\"></div>","\t36:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/breakmanager.html'\"></div>","\t37:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/breakuser.html'\"></div>","\t42:     <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/pendingdirector.html'\"></div>","\t43:     <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/pendingmanager.html'\"></div>","\t44:     <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/pendinguser.html'\"></div>","\t50:     <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/finisheddirector.html'\"></div>","\t51:     <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/finishedmanager.html'\"></div>","\t52:     <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/finisheduser.html'\"></div>","",""]},{"start":{"row":47,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["/app/views/sessionsetup.html:","\t6:       <input type=\"text\" ng-model=\"session.name\" ng-blur=\"submit()\" ng-disabled=\"role>1\" />","\t10:       <select ng-model=\"session.org\" ng-change=\"submit()\" ng-disabled=\"role>1\" >","\t16:       <div image-uploader ng-model=\"session.image\" ng-change=\"submit()\" disabled=\"{{role>1}}\" ng-hide=\"role>1\"></div>","\t17:       <img class=\"thumbnail inline ng-isolate-scope\" ng-src=\"https://res.cloudinary.com/parks-brainstorm/image/upload/c_fill,h_150,w_150/{{session.image}}.jpg\" ng-show=\"role>1\"></img>","\t21:       <input minicolors ng-model=\"session.color\" ng-blur=\"submit()\" ng-disabled=\"role>1\"  />","",""]},{"start":{"row":54,"column":0},"end":{"row":61,"column":0},"action":"insert","lines":["/app/views/teamsetup.html:","\t6:     <input type=\"text\" ng-model=\"team.name\" ng-blur=\"submit()\" ng-disabled=\"role>1\" />","\t10:     <select ng-model=\"team.org\" ng-change=\"submit()\" ng-disabled=\"role>1\" >","\t16:     <div image-uploader ng-model=\"team.image\" ng-change=\"submit()\" disabled=\"{{role>1}}\" ng-hide=\"role>1\"></div>","\t17:     <img class=\"thumbnail inline ng-isolate-scope\" ng-src=\"https://res.cloudinary.com/parks-brainstorm/image/upload/c_fill,h_150,w_150/{{team.image}}.jpg\" ng-show=\"role>1\"></img>","\t21:     <input minicolors ng-model=\"team.color\" ng-blur=\"submit()\" ng-disabled=\"role>1\"  />","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":0},"end":{"row":62,"column":0},"action":"insert","lines":["Found 50 matches in 8 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":62,"column":0},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":29},"end":{"row":0,"column":59},"action":"insert","lines":[" (Found 50 matches in 8 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":9},"action":"remove","lines":["Searching"]},{"start":{"row":0,"column":1},"end":{"row":63,"column":0},"action":"remove","lines":["for \u0001role\u0001 in\u0001/app\u0001 (Found 50 matches in 8 files)","","/app/scripts/controllers/orgsetup.js:","\t13:               $scope.role = user.role;","","/app/scripts/controllers/sessionsetup.js:","\t44:                 $scope.role = user.role;","","/app/scripts/controllers/teamsetup.js:","\t13:               $scope.role = user.role;","","/app/scripts/services/session.js:","\t107:               session.role = user.role;","","/app/views/orgsetup.html:","\t6:     <input type=\"text\" ng-model=\"org.name\" ng-blur=\"submit()\" ng-disabled=\"role>1\" />","\t10:     <div image-uploader ng-model=\"org.image\" ng-change=\"submit()\" disabled=\"{{role>1}}\" ng-hide=\"role>1\"></div>","\t11:     <img class=\"thumbnail inline ng-isolate-scope\" ng-src=\"https://res.cloudinary.com/parks-brainstorm/image/upload/c_fill,h_150,w_150/{{org.image}}.jpg\" ng-show=\"role>1\"></img>","\t15:     <input minicolors ng-model=\"org.color\" ng-blur=\"submit()\" ng-disabled=\"role>1\"  />","","/app/views/session.html:","\t4:     {{Session.getUnit().type}} {{Session.getSession().role}}","\t6:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/destinationdirector.html'\"></div>","\t7:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/destinationmanager.html'\"></div>","\t8:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/destinationuser.html'\"></div>","\t12:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/gatherdirector.html'\"></div>","\t13:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/gathermanager.html'\"></div>","\t14:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/gatheruser.html'\"></div>","\t18:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/generatedirector.html'\"></div>","\t19:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/generatemanager.html'\"></div>","\t20:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/generateuser.html'\"></div>","\t23:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/filterdirector.html'\"></div>","\t24:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/filtermanager.html'\"></div>","\t25:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/filteruser.html'\"></div>","\t29:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/actiondirector.html'\"></div>","\t30:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/actionmanager.html'\"></div>","\t31:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/actionuser.html'\"></div>","\t35:       <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/breakdirector.html'\"></div>","\t36:       <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/breakmanager.html'\"></div>","\t37:       <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/breakuser.html'\"></div>","\t42:     <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/pendingdirector.html'\"></div>","\t43:     <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/pendingmanager.html'\"></div>","\t44:     <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/pendinguser.html'\"></div>","\t50:     <div ng-if=\"Session.getSession().role===0\" ng-include=\"'/views/session/finisheddirector.html'\"></div>","\t51:     <div ng-if=\"Session.getSession().role===1\" ng-include=\"'/views/session/finishedmanager.html'\"></div>","\t52:     <div ng-if=\"Session.getSession().role===2\" ng-include=\"'/views/session/finisheduser.html'\"></div>","","/app/views/sessionsetup.html:","\t6:       <input type=\"text\" ng-model=\"session.name\" ng-blur=\"submit()\" ng-disabled=\"role>1\" />","\t10:       <select ng-model=\"session.org\" ng-change=\"submit()\" ng-disabled=\"role>1\" >","\t16:       <div image-uploader ng-model=\"session.image\" ng-change=\"submit()\" disabled=\"{{role>1}}\" ng-hide=\"role>1\"></div>","\t17:       <img class=\"thumbnail inline ng-isolate-scope\" ng-src=\"https://res.cloudinary.com/parks-brainstorm/image/upload/c_fill,h_150,w_150/{{session.image}}.jpg\" ng-show=\"role>1\"></img>","\t21:       <input minicolors ng-model=\"session.color\" ng-blur=\"submit()\" ng-disabled=\"role>1\"  />","","/app/views/teamsetup.html:","\t6:     <input type=\"text\" ng-model=\"team.name\" ng-blur=\"submit()\" ng-disabled=\"role>1\" />","\t10:     <select ng-model=\"team.org\" ng-change=\"submit()\" ng-disabled=\"role>1\" >","\t16:     <div image-uploader ng-model=\"team.image\" ng-change=\"submit()\" disabled=\"{{role>1}}\" ng-hide=\"role>1\"></div>","\t17:     <img class=\"thumbnail inline ng-isolate-scope\" ng-src=\"https://res.cloudinary.com/parks-brainstorm/image/upload/c_fill,h_150,w_150/{{team.image}}.jpg\" ng-show=\"role>1\"></img>","\t21:     <input minicolors ng-model=\"team.color\" ng-blur=\"submit()\" ng-disabled=\"role>1\"  />","","Found 50 matches in 8 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":[" "]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001bcrypt\u0001 in\u0001/server\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/server/models/user.js:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":7,"column":0},"action":"insert","lines":["\t4:     bcrypt = require('bcrypt-nodejs');","\t31:     return bcrypt.hashSync(password, bcrypt.genSaltSync(8), null);","\t35:     return bcrypt.compareSync(password, this.local.password);","",""]},{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["Found 5 matches in 1 file ",""]},{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":34},"end":{"row":0,"column":62},"action":"insert","lines":[" (Found 5 matches in 1 file)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":9,"column":0},"action":"remove","lines":["Searching for \u0001bcrypt\u0001 in\u0001/server\u0001 (Found 5 matches in 1 file)","","/server/models/user.js:","\t4:     bcrypt = require('bcrypt-nodejs');","\t31:     return bcrypt.hashSync(password, bcrypt.genSaltSync(8), null);","\t35:     return bcrypt.compareSync(password, this.local.password);","","Found 5 matches in 1 file ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001dropper\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/styles/_file-uploader.scss:",""]},{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t3:     .dropper {","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/views/partials/resourceuploader.html:","\t3:   <div class=\"dropper\" ng-file-drop=\"onFileSelect($files)\"","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["Found 2 matches in 2 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":32},"end":{"row":0,"column":61},"action":"insert","lines":[" (Found 2 matches in 2 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":10,"column":0},"action":"remove","lines":["Searching for \u0001dropper\u0001 in\u0001/app\u0001 (Found 2 matches in 2 files)","","/app/styles/_file-uploader.scss:","\t3:     .dropper {","","/app/views/partials/resourceuploader.html:","\t3:   <div class=\"dropper\" ng-file-drop=\"onFileSelect($files)\"","","Found 2 matches in 2 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001ng-repeat\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/views/dashboard.html:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["\t3:     <div class=\"item\" ng-repeat=\"invite in invites\">","\t16:         <div ng-repeat=\"session in Session.getSessions()\" class=\"item animateMe\" ng-class=\"{waiting:session.epochStart > now,'in-progress':session.epochStart > now&&session.epochEnd < now,'finished':session.epochEnd < now, alert:now > session.epochStart - 60 * 1000 && now < session.epochStart}\">","\t33:         <div ng-repeat=\"org in Org.getOrgs()\" class=\"item animateMe\">","\t46:         <div ng-repeat=\"team in Team.getTeams()\" class=\"item animateMe\">","\t61:         <option ng-repeat=\"org in orgs\" value=\"{{org._id}}\">{{org.name}}</option>","\t64:         <option ng-repeat=\"team in teams\" value=\"{{team._id}}\">{{team.name}}</option>","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":10,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["/app/views/sessionsetup.html:","\t11:         <option ng-repeat=\"org in orgs\" value=\"{{org._id}}\">{{org.name}}</option>","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":13,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["/app/views/team.html:","\t9:   <div ng-repeat=\"user in users\">{{ user.name }}</div>","","/app/views/teamsetup.html:","\t11:       <option ng-repeat=\"org in orgs\" value=\"{{org._id}}\">{{org.name}}</option>","","/app/views/partials/destinationlist.html:","\t3:     <div ng-repeat=\"idea in Idea.getIdeas()\" ng-bind-html=\"idea.content\" class=\"item\"></div>","","/app/views/partials/messages.html:","\t14:         <div ng-repeat=\"msgGroup in message.getMessages(type)\" class=\"msgGroup\" ng-class=\"{msgRight:msgGroup.side}\">","\t27:                 <div ng-repeat=\"message in msgGroup.messages\" class=\"content\" title=\"{{message.createdAt | date:'short'}}\">{{message.content}}</div>","","/app/views/partials/resources.html:","\t16:     </div><div ng-repeat=\"resource in Resource.getResources(Resource.currentType) | orderBy:orderBy | filter:search\" class=\"item animateMe\">","","/app/views/partials/roster.html:","\t8:   <span ng-repeat=\"user in roster.getAllUsers(type) | unique:'_id' | orderBy:['-online','name']\" ng-class=\"{online:user.online}\" class=\"item animateMe\"><div style=\"animation-delay: {{$index}}s; -webkit-animation-delay: {{$index}}s\"><a ng-href=\"/profile/{{user.slug}}\"><img class=\"thumbnail inline ng-isolate-scope\" angle=\"20\" format=\"jpg\" ","","/app/views/partials/sessionresources.html:","\t14:             <div class=\"item\" ng-repeat=\"session in Session.getSessions() | filter\" ng-class=\"{selected:Resource.currentId===session._id}\" ng-click=\"selectParent(session._id,'session')\">","\t20:             <div class=\"item\" ng-repeat=\"team in Team.getTeams()\" ng-class=\"{selected:Resource.currentId===team._id}\" ng-click=\"selectParent(team._id,'team')\">","\t26:             <div class=\"item\" ng-repeat=\"org in Org.getOrgs()\" ng-class=\"{selected:Resource.currentId===org._id}\" ng-click=\"selectParent(org._id,'org')\">","\t32:             <div ng-repeat=\"resource in Resource.getResources(type) | orderBy:orderBy | filter:search\" class=\"item animateMe\">","","/app/views/partials/unitgrid.html:","\t3:       <li ng-repeat=\"unit in session.units\" class=\"{{unit.type}} {{insession && times[$index] < now ? 'unsortable' : ''}} {{times[$index] < now ? 'completed':''}}\">","","Found 19 matches in 10 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":34},"end":{"row":0,"column":65},"action":"insert","lines":[" (Found 19 matches in 10 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":43,"column":0},"action":"remove","lines":["Searching for \u0001ng-repeat\u0001 in\u0001/app\u0001 (Found 19 matches in 10 files)","","/app/views/dashboard.html:","\t3:     <div class=\"item\" ng-repeat=\"invite in invites\">","\t16:         <div ng-repeat=\"session in Session.getSessions()\" class=\"item animateMe\" ng-class=\"{waiting:session.epochStart > now,'in-progress':session.epochStart > now&&session.epochEnd < now,'finished':session.epochEnd < now, alert:now > session.epochStart - 60 * 1000 && now < session.epochStart}\">","\t33:         <div ng-repeat=\"org in Org.getOrgs()\" class=\"item animateMe\">","\t46:         <div ng-repeat=\"team in Team.getTeams()\" class=\"item animateMe\">","\t61:         <option ng-repeat=\"org in orgs\" value=\"{{org._id}}\">{{org.name}}</option>","\t64:         <option ng-repeat=\"team in teams\" value=\"{{team._id}}\">{{team.name}}</option>","","/app/views/sessionsetup.html:","\t11:         <option ng-repeat=\"org in orgs\" value=\"{{org._id}}\">{{org.name}}</option>","","/app/views/team.html:","\t9:   <div ng-repeat=\"user in users\">{{ user.name }}</div>","","/app/views/teamsetup.html:","\t11:       <option ng-repeat=\"org in orgs\" value=\"{{org._id}}\">{{org.name}}</option>","","/app/views/partials/destinationlist.html:","\t3:     <div ng-repeat=\"idea in Idea.getIdeas()\" ng-bind-html=\"idea.content\" class=\"item\"></div>","","/app/views/partials/messages.html:","\t14:         <div ng-repeat=\"msgGroup in message.getMessages(type)\" class=\"msgGroup\" ng-class=\"{msgRight:msgGroup.side}\">","\t27:                 <div ng-repeat=\"message in msgGroup.messages\" class=\"content\" title=\"{{message.createdAt | date:'short'}}\">{{message.content}}</div>","","/app/views/partials/resources.html:","\t16:     </div><div ng-repeat=\"resource in Resource.getResources(Resource.currentType) | orderBy:orderBy | filter:search\" class=\"item animateMe\">","","/app/views/partials/roster.html:","\t8:   <span ng-repeat=\"user in roster.getAllUsers(type) | unique:'_id' | orderBy:['-online','name']\" ng-class=\"{online:user.online}\" class=\"item animateMe\"><div style=\"animation-delay: {{$index}}s; -webkit-animation-delay: {{$index}}s\"><a ng-href=\"/profile/{{user.slug}}\"><img class=\"thumbnail inline ng-isolate-scope\" angle=\"20\" format=\"jpg\" ","","/app/views/partials/sessionresources.html:","\t14:             <div class=\"item\" ng-repeat=\"session in Session.getSessions() | filter\" ng-class=\"{selected:Resource.currentId===session._id}\" ng-click=\"selectParent(session._id,'session')\">","\t20:             <div class=\"item\" ng-repeat=\"team in Team.getTeams()\" ng-class=\"{selected:Resource.currentId===team._id}\" ng-click=\"selectParent(team._id,'team')\">","\t26:             <div class=\"item\" ng-repeat=\"org in Org.getOrgs()\" ng-class=\"{selected:Resource.currentId===org._id}\" ng-click=\"selectParent(org._id,'org')\">","\t32:             <div ng-repeat=\"resource in Resource.getResources(type) | orderBy:orderBy | filter:search\" class=\"item animateMe\">","","/app/views/partials/unitgrid.html:","\t3:       <li ng-repeat=\"unit in session.units\" class=\"{{unit.type}} {{insession && times[$index] < now ? 'unsortable' : ''}} {{times[$index] < now ? 'completed':''}}\">","","Found 19 matches in 10 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001update\u0001 in\u0001/server\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/server/routes.js:",""]},{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t58:     app.post('/api/user', isLoggedIn, UserCtrl.updateProfile);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["/server/controllers/invite.js:","\t86:                   org.updatedAt = Date.now();","\t88:                   Sockets.emitToUsers(org.users, 'updateRoster', 'org');","\t101:                   team.updatedAt = Date.now();","\t103:                   Sockets.emitToUsers(team.users, 'updateRoster', 'team');","\t116:                   session.updatedAt = Date.now();","\t118:                   Sockets.emitToUsers(session.users, 'updateRoster', 'session');","",""]},{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["/server/controllers/user.js:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":0},"end":{"row":29,"column":0},"action":"insert","lines":["\t33:   updateProfile: function(req, res) {","\t35:     //update profile","\t36:     //update linked records","\t37:     //update socket user details","\t46:       User.update({_id:req.body._id},{","\t55:       Team.update({'users': {$elemMatch: {id:req.body._id}}}, {","\t62:       Org.update({'users': {$elemMatch: {id:req.body._id}}}, {","\t69:       Session.update({'users': {$elemMatch: {id:req.body._id}}}, {","\t76:       Idea.update({","\t86:       Invite.update({","\t94:       Invite.update({","\t103:       Message.update({","\t114:       Resource.update({","\t123:       Sockets.updateUser(req.body);","",""]},{"start":{"row":29,"column":0},"end":{"row":32,"column":0},"action":"insert","lines":["/server/models/idea.js:","\t13:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":32,"column":0},"end":{"row":35,"column":0},"action":"insert","lines":["/server/models/invite.js:","\t10:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":35,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["/server/models/message.js:","\t15:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"insert","lines":["/server/models/organisation.js:",""]},{"start":{"row":39,"column":0},"end":{"row":41,"column":0},"action":"insert","lines":["\t12:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["/server/models/resource.js:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["\t18:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["/server/models/session.js:",""]},{"start":{"row":45,"column":0},"end":{"row":47,"column":0},"action":"insert","lines":["\t25:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":47,"column":0},"end":{"row":48,"column":0},"action":"insert","lines":["/server/models/team.js:",""]},{"start":{"row":48,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["\t12:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":50,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["/server/models/user.js:","\t15:     updatedAt: {type: Date, default: Date.now},","",""]},{"start":{"row":53,"column":0},"end":{"row":60,"column":0},"action":"insert","lines":["/server/sockets/sockets.js:","\t28: var updateRosters = function updateRosters(ids, prevs) {","\t57:     updateRosters(prevs, {});","\t69:           updateRosters(socket.ids, {});","\t78:         updateRosters(ids,prevs);","\t90:   updateUser: function(user) {","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":0},"end":{"row":61,"column":0},"action":"insert","lines":["Found 35 matches in 12 files ",""]},{"start":{"row":61,"column":0},"end":{"row":62,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":34},"end":{"row":0,"column":65},"action":"insert","lines":[" (Found 35 matches in 12 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":62,"column":0},"action":"remove","lines":["Searching for \u0001update\u0001 in\u0001/server\u0001 (Found 35 matches in 12 files)","","/server/routes.js:","\t58:     app.post('/api/user', isLoggedIn, UserCtrl.updateProfile);","","/server/controllers/invite.js:","\t86:                   org.updatedAt = Date.now();","\t88:                   Sockets.emitToUsers(org.users, 'updateRoster', 'org');","\t101:                   team.updatedAt = Date.now();","\t103:                   Sockets.emitToUsers(team.users, 'updateRoster', 'team');","\t116:                   session.updatedAt = Date.now();","\t118:                   Sockets.emitToUsers(session.users, 'updateRoster', 'session');","","/server/controllers/user.js:","\t33:   updateProfile: function(req, res) {","\t35:     //update profile","\t36:     //update linked records","\t37:     //update socket user details","\t46:       User.update({_id:req.body._id},{","\t55:       Team.update({'users': {$elemMatch: {id:req.body._id}}}, {","\t62:       Org.update({'users': {$elemMatch: {id:req.body._id}}}, {","\t69:       Session.update({'users': {$elemMatch: {id:req.body._id}}}, {","\t76:       Idea.update({","\t86:       Invite.update({","\t94:       Invite.update({","\t103:       Message.update({","\t114:       Resource.update({","\t123:       Sockets.updateUser(req.body);","","/server/models/idea.js:","\t13:     updatedAt: {type: Date, default: Date.now},","","/server/models/invite.js:","\t10:     updatedAt: {type: Date, default: Date.now},","","/server/models/message.js:","\t15:     updatedAt: {type: Date, default: Date.now},","","/server/models/organisation.js:","\t12:     updatedAt: {type: Date, default: Date.now},","","/server/models/resource.js:","\t18:     updatedAt: {type: Date, default: Date.now},","","/server/models/session.js:","\t25:     updatedAt: {type: Date, default: Date.now},","","/server/models/team.js:","\t12:     updatedAt: {type: Date, default: Date.now},","","/server/models/user.js:","\t15:     updatedAt: {type: Date, default: Date.now},","","/server/sockets/sockets.js:","\t28: var updateRosters = function updateRosters(ids, prevs) {","\t57:     updateRosters(prevs, {});","\t69:           updateRosters(socket.ids, {});","\t78:         updateRosters(ids,prevs);","\t90:   updateUser: function(user) {","","Found 35 matches in 12 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001update\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/controllers/orgsetup.js:",""]},{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t36:           Alert.log('Organization updated');","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/scripts/controllers/profile.js:","\t33:           Alert.log('Profile updated')","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["/app/scripts/controllers/sessionsetup.js:","\t79:           Alert.log('Session updated');","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["/app/scripts/controllers/teamsetup.js:","\t40:           Alert.log('Team updated');","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":0},"end":{"row":21,"column":0},"action":"insert","lines":["/app/scripts/directives/ideabubbles.js:","\t11:             scope.$watch(function(){return Idea.updated();}, function(n, o){","\t14:                     update();","\t22:                 update();","\t63:             function update() {","\t115:             //update();","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":21,"column":0},"end":{"row":28,"column":0},"action":"insert","lines":["/app/scripts/services/idea.js:","\t7:     var updated;","\t26:         updated = Date.now();","\t43:             updated = Date.now();","\t48:       updated: function() {","\t49:         return updated;","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":0},"end":{"row":38,"column":0},"action":"insert","lines":["/app/scripts/services/org.js:","\t7:     var updateOrgs = function updateorgs(orgs){","\t12:     var updateOrg = function updateTeam(org){","\t13:       var updated = false;","\t18:             updated = true;","\t21:         if(!updated){","\t37:           updateOrgs(orgs);","\t52:       updateOrgs: updateOrgs,","\t56:       updateOrg: updateOrg,","",""]},{"start":{"row":38,"column":0},"end":{"row":48,"column":0},"action":"insert","lines":["/app/scripts/services/session.js:","\t17:     var updateSessions = function updateSessions(sessions){","\t22:     var updateSession = function updateSession(session){","\t23:       var updated = false;","\t34:             updated = true;","\t37:         if(!updated) {","\t102:           updateSessions(sessions);","\t124:       updateSessions: updateSessions,","\t128:       updateSession: updateSession,","",""]},{"start":{"row":48,"column":0},"end":{"row":54,"column":0},"action":"insert","lines":["/app/scripts/services/socket.js:","\t10:     socket.on('updateRoster', function(type){","\t24:       Session.updateSession(session);","\t27:       Team.updateTeam(team);","\t30:       Org.updateOrg(org);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":0},"end":{"row":64,"column":0},"action":"insert","lines":["/app/scripts/services/team.js:","\t7:     var updateTeams = function updateTeams(teams){","\t12:     var updateTeam = function updateTeam(team){","\t13:       var updated = false;","\t18:             updated = true;","\t21:         if(!updated){","\t37:           updateTeams(teams);","\t51:       updateTeams: updateTeams,","\t55:       updateTeam: updateTeam,","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":0},"end":{"row":67,"column":0},"action":"insert","lines":["/app/views/partials/destinationlist.html:","\t3:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable'}\" ng-model=\"accepted\">","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":0},"end":{"row":70,"column":0},"action":"insert","lines":["/app/views/partials/unitgrid.html:","\t2:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable',items: 'li:not(.unsortable)', handle:'.inner'}\" ng-model=\"session.units\">","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":70,"column":0},"end":{"row":71,"column":0},"action":"insert","lines":["Found 58 matches in 12 files ",""]},{"start":{"row":71,"column":0},"end":{"row":72,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":31},"end":{"row":0,"column":62},"action":"insert","lines":[" (Found 58 matches in 12 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":72,"column":0},"action":"remove","lines":["Searching for \u0001update\u0001 in\u0001/app\u0001 (Found 58 matches in 12 files)","","/app/scripts/controllers/orgsetup.js:","\t36:           Alert.log('Organization updated');","","/app/scripts/controllers/profile.js:","\t33:           Alert.log('Profile updated')","","/app/scripts/controllers/sessionsetup.js:","\t79:           Alert.log('Session updated');","","/app/scripts/controllers/teamsetup.js:","\t40:           Alert.log('Team updated');","","/app/scripts/directives/ideabubbles.js:","\t11:             scope.$watch(function(){return Idea.updated();}, function(n, o){","\t14:                     update();","\t22:                 update();","\t63:             function update() {","\t115:             //update();","","/app/scripts/services/idea.js:","\t7:     var updated;","\t26:         updated = Date.now();","\t43:             updated = Date.now();","\t48:       updated: function() {","\t49:         return updated;","","/app/scripts/services/org.js:","\t7:     var updateOrgs = function updateorgs(orgs){","\t12:     var updateOrg = function updateTeam(org){","\t13:       var updated = false;","\t18:             updated = true;","\t21:         if(!updated){","\t37:           updateOrgs(orgs);","\t52:       updateOrgs: updateOrgs,","\t56:       updateOrg: updateOrg,","","/app/scripts/services/session.js:","\t17:     var updateSessions = function updateSessions(sessions){","\t22:     var updateSession = function updateSession(session){","\t23:       var updated = false;","\t34:             updated = true;","\t37:         if(!updated) {","\t102:           updateSessions(sessions);","\t124:       updateSessions: updateSessions,","\t128:       updateSession: updateSession,","","/app/scripts/services/socket.js:","\t10:     socket.on('updateRoster', function(type){","\t24:       Session.updateSession(session);","\t27:       Team.updateTeam(team);","\t30:       Org.updateOrg(org);","","/app/scripts/services/team.js:","\t7:     var updateTeams = function updateTeams(teams){","\t12:     var updateTeam = function updateTeam(team){","\t13:       var updated = false;","\t18:             updated = true;","\t21:         if(!updated){","\t37:           updateTeams(teams);","\t51:       updateTeams: updateTeams,","\t55:       updateTeam: updateTeam,","","/app/views/partials/destinationlist.html:","\t3:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable'}\" ng-model=\"accepted\">","","/app/views/partials/unitgrid.html:","\t2:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable',items: 'li:not(.unsortable)', handle:'.inner'}\" ng-model=\"session.units\">","","Found 58 matches in 12 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001update()\u0001 in\u0001/app/scripts/controllers\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["Found 0 matches in 0 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":53},"end":{"row":0,"column":82},"action":"insert","lines":[" (Found 0 matches in 0 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":4,"column":0},"action":"remove","lines":["Searching for \u0001update()\u0001 in\u0001/app/scripts/controllers\u0001 (Found 0 matches in 0 files)","","Found 0 matches in 0 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001update()\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/directives/ideabubbles.js:",""]}]}],[{"group":"doc","deltas":[{"start":{"row":3,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["\t14:                     update();","\t22:                 update();","\t63:             function update() {","\t115:             //update();","",""]},{"start":{"row":8,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["/app/views/partials/destinationlist.html:","\t3:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable'}\" ng-model=\"accepted\">","",""]},{"start":{"row":11,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["/app/views/partials/unitgrid.html:","\t2:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable',items: 'li:not(.unsortable)', handle:'.inner'}\" ng-model=\"session.units\">","",""]},{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["Found 6 matches in 3 files ",""]},{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":33},"end":{"row":0,"column":62},"action":"insert","lines":[" (Found 6 matches in 3 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":9},"action":"remove","lines":["Searching"]},{"start":{"row":0,"column":1},"end":{"row":16,"column":0},"action":"remove","lines":["for \u0001update()\u0001 in\u0001/app\u0001 (Found 6 matches in 3 files)","","/app/scripts/directives/ideabubbles.js:","\t14:                     update();","\t22:                 update();","\t63:             function update() {","\t115:             //update();","","/app/views/partials/destinationlist.html:","\t3:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable'}\" ng-model=\"accepted\">","","/app/views/partials/unitgrid.html:","\t2:     <ul ui-sortable=\"{update:update(),cancel:'.unsortable',items: 'li:not(.unsortable)', handle:'.inner'}\" ng-model=\"session.units\">","","Found 6 matches in 3 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":[" "]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001SessionresourcesCtrl\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/app/scripts/controllers/sessionresources.js:",""]},{"start":{"row":3,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["\t4:   .controller('SessionresourcesCtrl', function ($scope, Resource, Session, Nav) {","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/views/session/gatherdirector.html:","\t1: <div ng-controller=\"SessionresourcesCtrl\">","",""]},{"start":{"row":8,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["/app/views/session/gatheruser.html:","\t1: <div ng-controller=\"SessionresourcesCtrl\">","",""]},{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["Found 3 matches in 3 files ",""]},{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":45},"end":{"row":0,"column":74},"action":"insert","lines":[" (Found 3 matches in 3 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["Searching for \u0001SessionresourcesCtrl\u0001 in\u0001/app\u0001 (Found 3 matches in 3 files)","","/app/scripts/controllers/sessionresources.js:","\t4:   .controller('SessionresourcesCtrl', function ($scope, Resource, Session, Nav) {","","/app/views/session/gatherdirector.html:","\t1: <div ng-controller=\"SessionresourcesCtrl\">","","/app/views/session/gatheruser.html:","\t1: <div ng-controller=\"SessionresourcesCtrl\">","","Found 3 matches in 3 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001addResource\u0001 in\u0001/app\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["/app/scripts/services/resource.js:","\t18:       addResource: function (resource) {","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":5,"column":0},"end":{"row":8,"column":0},"action":"insert","lines":["/app/scripts/services/socket.js:","\t17:       Resource.addResource(resource);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["Found 2 matches in 2 files ",""]},{"start":{"row":9,"column":0},"end":{"row":10,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":36},"end":{"row":0,"column":65},"action":"insert","lines":[" (Found 2 matches in 2 files)"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":10,"column":0},"action":"remove","lines":["Searching for \u0001addResource\u0001 in\u0001/app\u0001 (Found 2 matches in 2 files)","","/app/scripts/services/resource.js:","\t18:       addResource: function (resource) {","","/app/scripts/services/socket.js:","\t17:       Resource.addResource(resource);","","Found 2 matches in 2 files ","",""]},{"start":{"row":0,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["Searching for \u0001Emit\u0001 in\u0001/server\u0001","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"insert","lines":["/server/controllers/idea.js:",""]},{"start":{"row":3,"column":0},"end":{"row":9,"column":0},"action":"insert","lines":["\t13:         Sockets.emitToAll('session', req.body.idea.session, 'idea', [req.body.idea]);","\t43:         Sockets.emitToAll('session', req.body.idea.session, 'idea', [idea]);","\t63:           Sockets.emitToAll('session', uidea.session.toString(), 'idea', [uidea]);","\t87:           Sockets.emitToAll('session', uidea.session.toString(), 'idea', [uidea]);","\t111:      Sockets.emitToAll('session', req.body.ideas[0].session.toString(), 'idea', req.body.ideas);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["/server/controllers/invite.js:","\t88:                   Sockets.emitToUsers(org.users, 'updateRoster', 'org');","\t103:                   Sockets.emitToUsers(team.users, 'updateRoster', 'team');","\t118:                   Sockets.emitToUsers(session.users, 'updateRoster', 'session');","",""]},{"start":{"row":14,"column":0},"end":{"row":17,"column":0},"action":"insert","lines":["/server/controllers/message.js:","\t25:       Sockets.emitToAll(req.body.type, req.body[req.body.type], 'message', message);","",""]},{"start":{"row":17,"column":0},"end":{"row":20,"column":0},"action":"insert","lines":["/server/controllers/organisation.js:","\t41:                   Sockets.emitToUsers(org.users, 'org', org);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":20,"column":0},"end":{"row":24,"column":0},"action":"insert","lines":["/server/controllers/resource.js:","\t32:         console.log('i want to emit');","\t33:         Sockets.emitToAll(req.body.type, req.body.ids[req.body.type], 'resource', resource);","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":24,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["/server/controllers/session.js:","\t66:                 Sockets.emitToUsers(session.users, 'bsession', session);","",""]},{"start":{"row":27,"column":0},"end":{"row":30,"column":0},"action":"insert","lines":["/server/controllers/team.js:","\t42:                 Sockets.emitToUsers(team.users, 'team', team);","",""]},{"start":{"row":30,"column":0},"end":{"row":33,"column":0},"action":"insert","lines":["/server/controllers/user.js:","\t38:     //emit roster event","",""]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"insert","lines":["/server/sockets/sockets.js:",""]},{"start":{"row":34,"column":0},"end":{"row":49,"column":0},"action":"insert","lines":["\t8: var emitToAll = function emitToAll(idKey, id, message, data) {","\t11:       socket.emit(message, data);","\t16: var emitToUsers = function emitToUsers(users, message, data) {","\t21:         socket.emit(message, data);","\t46:     emitToAll('org', ids.org, 'rosters', {type:'org',users:rosters.orgUsers});","\t49:     emitToAll('team', ids.team, 'rosters', {type:'team',users:rosters.teamUsers});","\t52:     emitToAll('session', ids.session, 'rosters', {type:'session',users:rosters.sessionUsers});","\t80:   emitToAll: function(idKey, id, message, data) {","\t81:     console.log('emitting ' + message);","\t82:     emitToAll(idKey, id, message, data);","\t84:   emitToUsers: function(users, message, data) {","\t85:     console.log('emitting to users');","\t86:     emitToUsers(users, message, data);","","Found 30 matches in 9 files ",""]}]}],[{"group":"doc","deltas":[{"start":{"row":49,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["",""]},{"start":{"row":0,"column":32},"end":{"row":0,"column":62},"action":"insert","lines":[" (Found 30 matches in 9 files)"]}]}]]},"ace":{"folds":[],"customSyntax":"c9search","scrolltop":240,"scrollleft":0,"selection":{"start":{"row":22,"column":63},"end":{"row":22,"column":67},"isBackwards":false},"options":{"tabSize":4,"useSoftTabs":true,"guessTabSize":false,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":16,"state":["start",{}],"mode":"ace/mode/c9search"}}}